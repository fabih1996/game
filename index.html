<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Supernatural RPG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Bottone hamburger -->
  <button id="menu-toggle" onclick="toggleSidebar()">â˜°</button>

  <!-- Sidebar -->
  <div id="sidebar">
    <h3>Characters</h3>
    <ul id="charList"></ul>

    <h4>Add Character</h4>
    <select id="charDropdown"><option value="">-- Select character --</option></select>
    <button onclick="addSelectedCharacter()">Add</button>

    <div id="customCharFields" style="display: none;">
      <input type="text" id="customCharName" placeholder="New name" />
      <input type="text" id="customCharDesc" placeholder="Description" />
      <button onclick="addCustomCharacter()">Create</button>
    </div>

    <h4>ðŸŽ² Random Event</h4>
    <button id="rollDice" onclick="triggerRandomEvent()">ðŸŽ² Roll the Dice</button>

    <!-- ðŸ”Š Toggle Music -->
    <button id="music-toggle" onclick="toggleMusic()">ðŸŽµ Music On/Off</button>
  </div>

  <!-- Main container -->
  <div class="container">
    <h1>Supernatural: Role-Playing Adventure</h1>

    <div id="user-character-select">
      <h3>Who are you?</h3>
      <select id="playerSelect">
        <option value="">-- Choose your character --</option>
        <option value="custom">Create custom character</option>
        <option value="Dean">Dean</option>
        <option value="Sam">Sam</option>
        <option value="Castiel">Castiel</option>
        <option value="Jo">Jo</option>
        <option value="Ellen">Ellen</option>
      </select>
      <div id="customPlayerFields" style="display: none;">
        <input type="text" id="playerName" placeholder="Your name" />
        <input type="text" id="playerDesc" placeholder="Short description" />
      </div>
      <button onclick="startGame()">Start Game</button>
    </div>

    <div id="game-interface" style="display: none;">
      <div id="story"></div>
      <div id="input-area">
        <input type="text" id="userInput" placeholder="What do you say?" />
        <button id="continueBtn" onclick="sendToGPT()">Continue</button>
      </div>
      <div id="quick-actions">
        <h3>Quick Actions</h3>
        <div id="actions-container"></div>
      </div>
      <div id="choices"></div>
    </div>

    <!-- Audio -->
    <audio id="sound-door" src="sounds/door_knock.mp3" preload="auto"></audio>
    <audio id="sound-gunshot" src="sounds/gunshot.mp3" preload="auto"></audio>
    <audio id="sound-scream" src="sounds/scream.mp3" preload="auto"></audio>
    <audio id="sound-demon" src="sounds/demon_growl.mp3" preload="auto"></audio>
    <audio id="sound-whisper" src="sounds/whisper.mp3" preload="auto"></audio>
    <audio id="sound-impala" src="sounds/impala_engine.mp3" preload="auto"></audio>
    <audio id="background-music" src="sounds/background_music.mp3" preload="auto" loop></audio>
  </div>

  <!-- Script -->
  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('open');
    }

    function toggleMusic() {
      const bgm = document.getElementById("background-music");
      if (bgm) {
        if (bgm.paused) {
          bgm.volume = 0.3;
          bgm.play();
        } else {
          bgm.pause();
        }
      }
    }
  </script>
  <script src="config.js"></script>
  <script src="script.js"></script>
</body>
</html>
