<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Supernatural RPG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Hamburger Menu -->
  <button id="menu-toggle" onclick="toggleSidebar()">â˜°</button>

  <!-- Sidebar -->
  <div id="sidebar">
    <h3>Characters</h3>
    <ul id="charListPresent"></ul>
    <!-- La sezione dei "Remote" Ã¨ stata rimossa per semplificare la gestione -->
    <!--
    <h4>Remotely Contacted</h4>
    <ul id="charListRemote"></ul>
    -->
    <h4>ðŸŽ² Random Event</h4>
    <button id="rollDice" onclick="triggerRandomEvent()">ðŸŽ² Roll the Dice</button>

    <button id="music-toggle" onclick="toggleMusic()">ðŸŽµ Music On/Off</button>
  </div>

  <!-- Main container -->
  <div class="container">
    <h1>Supernatural: Role-Playing Adventure</h1>

    <div id="user-character-select">
      <h3>Who are you?</h3>
      <select id="playerSelect">
        <option value="">-- Choose your character --</option>
        <option value="custom">Create custom character</option>
        <option value="Dean">Dean</option>
        <option value="Sam">Sam</option>
        <option value="Castiel">Castiel</option>
        <option value="Jo">Jo</option>
        <option value="Ellen">Ellen</option>
      </select>
      <div id="customPlayerFields" style="display: none;">
        <input type="text" id="playerName" placeholder="Your name" />
        <input type="text" id="playerDesc" placeholder="Short description" />
      </div>
      <button onclick="startGame()">Start Game</button>
    </div>

    <div id="game-interface" style="display: none;">
      <div id="story"></div>

      <!-- Input Area: Narration and Dialogue -->
      <div id="input-area">
        <input type="text" id="narrationInput" placeholder="Narrate your action..." />
        <input type="text" id="dialogueInput" placeholder="Say something to a character..." />
      </div>

      <!-- Quick Actions -->
      <div id="quick-actions">
        <h3>Quick Actions</h3>
        <div id="actions-container"></div>
      </div>

      <!-- AI Response Choices -->
      <div id="choices"></div>
    </div>

    <!-- Audio Elements -->
    <audio id="sound-door" src="sounds/door_knock.mp3" preload="auto"></audio>
    <audio id="sound-gunshot" src="sounds/gunshot.mp3" preload="auto"></audio>
    <audio id="sound-scream" src="sounds/scream.mp3" preload="auto"></audio>
    <audio id="sound-demon" src="sounds/demon_growl.mp3" preload="auto"></audio>
    <audio id="sound-whisper" src="sounds/whisper.mp3" preload="auto"></audio>
    <audio id="sound-impala" src="sounds/impala_engine.mp3" preload="auto"></audio>
    <audio id="background-music" src="sounds/background_music.mp3" preload="auto" loop></audio>
    <audio id="sound-arrival" src="sounds/arrival.mp3" preload="auto"></audio>
  </div>

  <!-- Exorcism Overlay -->
  <div id="exorcism-overlay" class="hidden">
    <div id="pentagram">â›§</div>
    <div id="ghost">ðŸ‘»</div>
    <div id="chant"></div>
  </div>

  <!-- JavaScript -->
  <!-- main.js importa internamente le funzioni da gameFunctions.js -->
  <script type="module" src="js/main.js"></script>
</body>
</html>
